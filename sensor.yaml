- platform: wunderground
  api_key: !secret wunderground_api_key
  monitored_conditions:
    - weather
    - temp_c
    - weather_1h
    - temp_high_avg_c
    - temp_low_avg_c
    - temp_high_1d_c
    - temp_low_1d_c
#    - temp_high_2d_c
#    - temp_low_2d_c
#    - temp_high_3d_c
#    - temp_low_3d_c
#    - temp_high_4d_c
#    - temp_low_4d_c
    - alerts
  lang: BR
- platform: broadlink
  update_interval: 300
  name: MuvRH
  host: 192.168.1.35
  mac: '34:EA:34:E4:5F:2F'
  monitored_conditions:
    - temperature
- platform: fastdotcom
  hour:
    - 3
    - 6
    - 12
    - 18
    - 0
- platform: systemmonitor
  resources:
    - type: processor_use
    - type: disk_use_percent
      arg: /home
    - type: memory_use_percent
    - type: since_last_boot
- platform: template
  sensors:
    luzes_ligadas:
      friendly_name: 'Total de luzes ligadas'
      value_template: "{% for state in states if ( 'light' in state.entity_id and state.domain in ['light','switch'] and state.state == 'on' ) -%}{% if loop.last -%}{{ loop.index }}{%- endif %}{% else %}0{%- endfor %}"
      icon_template: mdi:lightbulb
    interruptores_ligados:
      friendly_name: 'Total de dispositivos ligados'
      value_template: "{% for state in states if ( 'switch' in state.entity_id and state.domain in ['light','switch'] and state.state == 'on' ) -%}{% if loop.last -%}{{ loop.index }}{%- endif %}{% else %}0{%- endfor %}"
      icon_template: mdi:flash
    tv_lg_sala_source:
      friendly_name: 'TV Sala - Assistindo agora'
      value_template: "{{ states.media_player.tv_sala.attributes.source }}"
      icon_template: mdi:television
    tv_lg_suite_source:
      friendly_name: 'TV Suíte - Assistindo agora'
      value_template: "{{ states.media_player.tv_suite.attributes.source }}"
      icon_template: mdi:television
    temperatura_real_nossa_sala:
      friendly_name: 'Temperatura real da nossa sala'
      unit_of_measurement: '°C'
      value_template: "{{ (states.sensor.muvrh_temperature.state  | float) - 2 }}"

# Baterias

- platform: template
  sensors:
    bateria_movimento_suite:
      friendly_name: 'Bateria movimento suíte'
      value_template: "{{ states.binary_sensor.motion_sensor_158d000120af26.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d000120af26 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d000120af26.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_sala:
      friendly_name: 'Bateria movimento sala'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001225607.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001225607 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001225607.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_cozinha:
      friendly_name: 'Bateria movimento cozinha'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001231d4d.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001231d4d is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001231d4d.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_quarto:
      friendly_name: 'Bateria movimento quarto'
      value_template: "{{ states.binary_sensor.motion_sensor_158d00015b6c81.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d00015b6c81 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d00015b6c81.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_banheiro_suite:
      friendly_name: 'Bateria movimento banheiro suíte'
      value_template: "{{ states.binary_sensor.motion_sensor_158d00016c01fd.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d00016c01fd is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d00016c01fd.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_nossa_sala:
      friendly_name: 'Bateria movimento nossa sala'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001e02f9a.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001e02f9a is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001e02f9a.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_sala_operacoes:
      friendly_name: 'Bateria movimento da sala de operações'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001e420d0.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001e420d0 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001e420d0.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_banheiro_203:
      friendly_name: 'Bateria movimento do banheiro da sala 203'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001e43ef1.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001e43ef1 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001e43ef1.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_banheiro_social:
      friendly_name: 'Bateria movimento banheiro social'
      value_template: "{{ states.binary_sensor.motion_sensor_158d00016da83a.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d00016da83a is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d00016da83a.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_quarto:
      friendly_name: 'Bateria botão quarto'
      value_template: "{{ states.binary_sensor.switch_158d000120ea75.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d000120ea75 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d000120ea75.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_sala:
      friendly_name: 'Bateria temperatura sala'
      value_template: "{{ states.sensor.temperature_158d0001700b20.attributes.battery_level|default(0)|int if states.sensor.temperature_158d0001700b20 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d0001700b20.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_sala_303:
      friendly_name: 'Bateria movimento da sala 303'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001e44035.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001e44035 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001e44035.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_banheiro_303:
      friendly_name: 'Bateria movimento banheiro sala 303'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001ad6c20.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001ad6c20 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001ad6c20.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_movimento_entrada_203:
      friendly_name: 'Bateria movimento entrada sala 203'
      value_template: "{{ states.binary_sensor.motion_sensor_158d0001ad6b83.attributes.battery_level|default(0)|int if states.binary_sensor.motion_sensor_158d0001ad6b83 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.motion_sensor_158d0001ad6b83.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_quarto:
      friendly_name: 'Bateria temperatura quarto'
      value_template: "{{ states.sensor.temperature_158d0001702175.attributes.battery_level|default(0)|int if states.sensor.temperature_158d0001702175 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d0001702175.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_cozinha:
      friendly_name: 'Bateria temperatura cozinha'
      value_template: "{{ states.sensor.temperature_158d00019cec0c.attributes.battery_level|default(0)|int if states.sensor.temperature_158d00019cec0c is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d00019cec0c.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_suite:
      friendly_name: 'Bateria temperatura suíte'
      value_template: "{{ states.sensor.temperature_158d0001dcb597.attributes.battery_level|default(0)|int if states.sensor.temperature_158d0001dcb597 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d0001dcb597.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_entrada_203:
      friendly_name: 'Bateria temperatura entrada da sala 203'
      value_template: "{{ states.sensor.temperature_158d0001d7e65d.attributes.battery_level|default(0)|int if states.sensor.temperature_158d0001d7e65d is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d0001d7e65d.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_sala_303:
      friendly_name: 'Bateria temperatura da sala 303'
      value_template: "{{ states.sensor.temperature_158d0001703b44.attributes.battery_level|default(0)|int if states.sensor.temperature_158d0001703b44 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d0001703b44.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_temperatura_sala_operacoes:
      friendly_name: 'Bateria temperatura sala de operações'
      value_template: "{{ states.sensor.temperature_158d00015633b4.attributes.battery_level|default(0)|int if states.sensor.temperature_158d00015633b4 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.sensor.temperature_158d00015633b4.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_sensor_porta_entrada:
      friendly_name: 'Bateria sensor porta entrada'
      value_template: "{{ states.binary_sensor.door_window_sensor_158d0001d6851d.attributes.battery_level|default(0)|int if states.binary_sensor.door_window_sensor_158d0001d6851d is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.door_window_sensor_158d0001d6851d.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_sensor_box_suite:
      friendly_name: 'Bateria sensor box banheiro suíte'
      value_template: "{{ states.binary_sensor.door_window_sensor_158d0001d68545.attributes.battery_level|default(0)|int if states.binary_sensor.door_window_sensor_158d0001d68545 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.door_window_sensor_158d0001d68545.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_sensor_box_social:
      friendly_name: 'Bateria sensor box banheiro social'
      value_template: "{{ states.binary_sensor.door_window_sensor_158d0001e035a2.attributes.battery_level|default(0)|int if states.binary_sensor.door_window_sensor_158d0001d68545 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.door_window_sensor_158d0001e035a2.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_sensor_porta_entrada_sala_303:
      friendly_name: 'Bateria sensor porta entrada sala 303'
      value_template: "{{ states.binary_sensor.door_window_sensor_158d0001b8671f.attributes.battery_level|default(0)|int if states.binary_sensor.door_window_sensor_158d0001b8671f is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.door_window_sensor_158d0001b8671f.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_sensor_porta_entrada_sala_203:
      friendly_name: 'Bateria sensor porta entrada sala 203'
      value_template: "{{ states.binary_sensor.door_window_sensor_158d0001bf2a09.attributes.battery_level|default(0)|int if states.binary_sensor.door_window_sensor_158d0001bf2a09 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.door_window_sensor_158d0001bf2a09.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_suite_01:
      friendly_name: 'Bateria botão suíte 01'
      value_template: "{{ states.binary_sensor.switch_158d0001d8e9f8.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d8e9f8 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d8e9f8.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_sala_01:
      friendly_name: 'Bateria botão sala 01'
      value_template: "{{ states.binary_sensor.switch_158d000121090f.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d000121090f is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d000121090f.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_sala_02:
      friendly_name: 'Bateria botão sala 02'
      value_template: "{{ states.binary_sensor.switch_158d0001d8e9cf.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d8e9cf is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d8e9cf.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_cozinha:
      friendly_name: 'Bateria botão cozinha'
      value_template: "{{ states.binary_sensor.switch_158d0001d9073f.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d9073f is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d9073f.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_banheiro_suite:
      friendly_name: 'Bateria botão banheiro da suíte'
      value_template: "{{ states.binary_sensor.switch_158d0001d8eabc.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d8eabc is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d8eabc.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_banheiro_social:
      friendly_name: 'Bateria botão banheiro social'
      value_template: "{{ states.binary_sensor.switch_158d0001d8eb3d.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d8eb3d is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d8eb3d.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
    bateria_botao_suite_02:
      friendly_name: 'Bateria botão suíte 02'
      value_template: "{{ states.binary_sensor.switch_158d0001d8ea74.attributes.battery_level|default(0)|int if states.binary_sensor.switch_158d0001d8ea74 is not none }}"
      unit_of_measurement: '%'
      icon_template: >
          {% set battery_level = states.binary_sensor.switch_158d0001d8ea74.attributes.battery_level|default(0)|int %}
          {% set battery_round = (battery_level / 10) |int * 10 %}
          {% if battery_round >= 100 %}
            mdi:battery
          {% elif battery_round > 0 %}
            mdi:battery-{{ battery_round }}
          {% else %}
            mdi:battery-alert
          {% endif %}
